model ProductVariant {
  id         String   @id @default(cuid())
  productId  String
  product    Product  @relation(fields: [productId], references: [id], onDelete: Cascade)
  sku        String   @unique
  name       String? // e.g., "Small - Red"
  price      Decimal? @db.Decimal(10, 2) // Override product price if different
  stock      Int      @default(0)
  attributes Json? // Flexible attributes like { size: "M", color: "Blue" }
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt

  orderItems OrderItem[]
  cartItems  CartItem[]

  @@index([productId])
  @@index([sku])
  @@map("product_variants")
}
